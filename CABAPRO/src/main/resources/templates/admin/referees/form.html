<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Referee Form</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-4">
<h1 th:text="${referee.id == null} ? 'Add Referee' : 'Edit Referee'">Referee Form</h1>

<div th:if="${error}" class="alert alert-danger">
    <span th:text="${error}"></span>
</div>

<form th:action="${referee.id == null} ? @{/admin/referees} : @{/admin/referees/{id}(id=${referee.id})}"
      method="post" class="mt-3">

    <input type="hidden" th:if="${referee.id != null}" name="id" th:value="${referee.id}"/>

    <div class="mb-3">
        <label class="form-label">Name:</label>
        <input type="text" name="name" class="form-control" required/>
    </div>

    <div class="mb-3">
        <label class="form-label">Email:</label>
        <input type="email" name="email" class="form-control" th:value="${referee.email}" required/>
    </div>

    <div class="mb-3">
        <label class="form-label">Phone Number:</label>
        <input type="text" name="phoneNumber" class="form-control" th:value="${referee.phoneNumber}" required/>
    </div>

    <div class="mb-3" th:if="${referee.id == null}">
        <label class="form-label">Password:</label>
        <input type="password" name="password" class="form-control" required/>
    </div>

    <div class="mb-3">
        <label class="form-label">Ranking:</label>
        <select name="rankingId" class="form-select" required>
            <option value="">-- Select Ranking --</option>
            <option th:each="r : ${rankings}" th:value="${r.id}" th:text="${r.name}"
                    th:selected="${referee.ranking != null and referee.ranking.id == r.id}"></option>
        </select>
    </div>

    <div class="mb-3">
        <label class="form-label">Specialty:</label>
        <select name="specialtyId" class="form-select">
            <option value="">-- Select Specialty --</option>
            <option th:each="s : ${specialties}" th:value="${s.idSpecialty}" th:text="${s.name}"
                    th:selected="${referee.specialty != null and referee.specialty.idSpecialty == s.idSpecialty}"></option>
        </select>
    </div>

    <button type="submit" class="btn btn-success"
            th:text="${referee.id == null} ? 'Save' : 'Update'">Save</button>
</form>

<a class="btn btn-secondary mt-3" th:href="@{/admin/referees}">Back to list</a>
</body>
</html>